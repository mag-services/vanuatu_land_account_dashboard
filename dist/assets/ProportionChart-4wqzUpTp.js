import{r as y,j as r,C as g,a as p,b as x,c as m,g as C,H as j,d as L}from"./index-CvSDUA43.js";const B=y.memo(function({proportions:s,year:n}){if(s.length===0)return r.jsxs(g,{className:"border-white/20 dark:border-gray-700/30 bg-white/70 dark:bg-gray-900/60 backdrop-blur-md shadow-lg",children:[r.jsx(p,{children:r.jsxs(x,{children:["Proportion of Land Cover (",n,")"]})}),r.jsx(m,{children:r.jsx("p",{className:"text-muted-foreground",children:"No data for selected filters."})})]});const f=s.map(t=>({name:t.category,y:t.percent,area:t.area})),d=s.reduce((t,e)=>t+e.area,0).toLocaleString(void 0,{maximumFractionDigits:0}),h={totalFormatted:d,year:n},b={chart:{type:"pie",height:380,animation:!0,events:{load(){const t=this,e=t.series[0];if(!(e!=null&&e.center))return;const o=t.options.chart._centerLabel??h;let a=t._centerLabelEl;a||(a=t.renderer.label(`<div style="text-align:center;line-height:1.3">Total ${o.year}<br/><strong style="font-size:17px;color:#6366f1">${o.totalFormatted}</strong><br/><span style="font-size:10px;color:#64748b">sq km</span></div>`,0,0,"rect",.5,.5,!0).attr({zIndex:7}).add(),t._centerLabelEl=a);const[i,c]=e.center,l=t.plotLeft+i-a.getBBox().width/2,u=t.plotTop+c-a.getBBox().height/2;a.attr({x:l,y:u})},redraw(){const t=this,e=t.series[0],o=t._centerLabelEl;if(e!=null&&e.center&&o){const[a,i]=e.center,c=t.plotLeft+a-o.getBBox().width/2,l=t.plotTop+i-o.getBBox().height/2;o.attr({x:c,y:l})}}}},title:{text:void 0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",innerSize:"55%",animation:{duration:600},dataLabels:{enabled:!0,format:"<b>{point.name}</b><br/>{point.percent:.1f}%",style:{fontSize:"11px"}},borderWidth:2,borderColor:"rgba(255,255,255,0.9)"}},tooltip:{backgroundColor:"rgba(255,255,255,0.95)",borderColor:"rgba(0,0,0,0.08)",borderRadius:8,formatter(){var e;const t=this.point;return`<b>${this.key}</b><br/>${(e=this.y)==null?void 0:e.toFixed(1)}%<br/>${(t.area??0).toLocaleString()} sq km`}},series:[{type:"pie",name:"Share",center:["50%","50%"],size:"90%",data:f.map(t=>({name:t.name,y:t.y,area:t.area,color:C(t.name)}))}],credits:{enabled:!1}};return b.chart._centerLabel=h,r.jsxs(g,{className:"border-white/20 dark:border-gray-700/30 bg-white/70 dark:bg-gray-900/60 backdrop-blur-md shadow-lg",children:[r.jsxs(p,{children:[r.jsxs(x,{children:["Proportion of Land Cover (",n,")"]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Share of total land area by category (%). Hover for sq km."})]}),r.jsx(m,{children:r.jsx("div",{className:"h-[380px]",children:r.jsx(j,{highcharts:L,options:b},`${n}-${d}`)})})]})});export{B as ProportionChart};
